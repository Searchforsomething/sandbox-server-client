# TCP Сервер и Клиент на языке C

## Сервер
Сервер обрабатывает два вида запросов:

**CheckLocalFile**: Проверяет указанный файл на наличие заданной сигнатуры. Возвращает список смещений найденных сигнатур.  

**QuarantineLocalFile**: Перемещает указанный файл в карантин.  
  
На старте сервера задаётся количество потоков в пуле обработки запросов.  
**Использование:** ./server [опции] <количество потоков>  
Опции  -h, --help    - вывод инструкций по использованию

## Клиент
Клиент отправляет команды серверу. На старте клиента задаются команда и её параметры.  
**Использование:** ./client [опции] <команда> <параметры>

Использование **CheckLocalFile**:  
./client CheckLocalFile file_path=<путь к файлу> signature=<сигнатура>  
  
Использование **QuarantineLocalFile**:  
./client QuarantineLocalFile file_path=<путь к файлу>


Опции  -h, --help    - вывод инструкций по использованию.  
Запросы передаются в формате JSON.   

## Инструкция по сборке

В проекте есть Makefile, так что для сборки достаточно выполнить в терминале
команду `make` из каталога проекта
  
Для проведения тестирования дополнительно понадобится создать библиотеку `libserver.so`,
для этого нужно выполнить в терминале   
```
gcc -shared -o libserver.so -fPIC server.c cJSON.c
```
Файл с тестами: test_server.py

## Зависимости
Для написания клиента и сервера использовалась библиотека cJSON, для удобства
файлы библиотеки cJSON.c и cJSON.h находятся в папке проекта.